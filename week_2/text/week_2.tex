\documentclass[12pt]{article}
\usepackage[left=1in, right=1in]{geometry}

\usepackage{url}

%\usepackage{arydshln}

\usepackage{graphicx}

\usepackage{color}
\definecolor{light-gray}{gray}{0.30}

\usepackage{listings}
\lstset{
	frame=leftline,
	frameround=ttff,
	numbers=left,
	language=C++,
	showstringspaces=False,
	extendedchars=False,
	numberstyle=\footnotesize,
	basicstyle=\small\ttfamily,
	commentstyle=\color{light-gray}\slshape,
	belowskip=1.5em,
	aboveskip=1.5em,
	fontadjust,
	tabsize=4,		%added for proper tab alligning
	xleftmargin=0cm,
	xrightmargin=0cm
}


\newcommand{\desc}[1]{\textit{#1} \vspace{1em}}

\title{\itshape Exercises week 2}

\author{
	Klaas Isaac Bijlsma \\ s2394480
	\and
	David Vroom \\ s2309939
}

\date{\today}

\begin{document}
\maketitle

\section*{Exercise 11}
\desc{Learn to appreciate catching references when throwing exceptions}

A simple class \texttt{Object} is made. It has a data member \texttt{d\_name} that stores an internal name. If an object is made via the copy constructor, 'copy' is added to this internal name. The constructor, copy constructor and destructor print what they did together with the internal name. A function \texttt{hello()} is added that says hello and prints the internal name. 
\lstinputlisting[title=\texttt{object/object.h}]{../ex11/object/object.h}
\lstinputlisting[title=\texttt{object/object.ih}]{../ex11/object/object.ih}
\lstinputlisting[title=\texttt{object/destructor.cc}]{../ex11/object/destructor.cc}
\lstinputlisting[title=\texttt{object/hello.cc}]{../ex11/object/hello.cc}
\lstinputlisting[title=\texttt{object/object1.cc}]{../ex11/object/object1.cc}
\lstinputlisting[title=\texttt{object/object2.cc}]{../ex11/object/object2.cc}

\vspace{0.5cm}
Below a main function (\texttt{main1.cc}) is shown, in which within a try block, an object of the class \texttt{Object} is made. This object is then thrown. The exception handler catches an object of the class \texttt{Object} (by value). The output of the program is given below the code of main1. We see that the object is properly constructed and says hello. Then when it is thrown, first a copy is made and the original object is destructed. The copy is passed to the exception handler. Here an additional copy is made, because it receives the object by value. Therefore, within the exception handler, the copy of the copy of the object says hello.
\lstinputlisting[title=\texttt{main1.cc}]{../ex11/main1.cc}
\lstinputlisting[title=\texttt{Output of main1.cc},language=bash, numbers=none]{../ex11/outputMain1.txt}

\vspace{0.5cm}
The following main function (\texttt{main2.cc}) does the same as the previous, except that the exception handler catches \emph{a reference} to an object of the class \texttt{Object}. From the output we see that no second copy is made. This is more efficient and therefore exception handlers should catch references to objects. 
\lstinputlisting[title=\texttt{main2.cc}]{../ex11/main2.cc}
\lstinputlisting[title=\texttt{Output of main2.cc},language=bash, numbers=none]{../ex11/outputMain2.txt}

\vspace{0.5cm}
In the previous two programs, we saw that a copy of the object is thrown. This is because the original object is a local object that only lives inside the try block. The same is true when a reference to an object is thrown, as can be seen from the output that the following code produces:
\lstinputlisting[title=\texttt{main3.cc}]{../ex11/main3.cc}
\lstinputlisting[title=\texttt{Output of main3.cc},language=bash, numbers=none]{../ex11/outputMain3.txt}

\vspace{0.5cm}
The following main function (\texttt{main4.cc}) has two exception levels. In the inner level, an object of the class \texttt{Object} is thrown and caught as a reference. Then it is rethrown to a more shallow level where it is again caught as a reference. From the shown output, we conclude that '\texttt{throw;}' results in throwing the currently available exception and not a copy of that exception.
\lstinputlisting[title=\texttt{main4.cc}]{../ex11/main4.cc}
\lstinputlisting[title=\texttt{Output of main4.cc},language=bash, numbers=none]{../ex11/outputMain4.txt}


\clearpage
\section*{Exercise 12}
\desc{}

\clearpage
\section*{Exercise 13}
\desc{Learn to create an exception safe class}

We modified the following code,
\lstinputlisting[title=\texttt{main.cc}]{../ex13/main.cc}
\lstinputlisting[title=\texttt{matrix/matrix.h}]{../ex13/matrix/matrix.h}
\lstinputlisting[title=\texttt{matrix/at.cc}]{../ex13/matrix/at.cc}
\lstinputlisting[title=\texttt{matrix/identity.cc}]{../ex13/matrix/identity.cc}
\lstinputlisting[title=\texttt{matrix/matrix1.cc}]{../ex13/matrix/matrix1.cc}
\lstinputlisting[title=\texttt{matrix/matrix2.cc}]{../ex13/matrix/matrix2.cc}
\lstinputlisting[title=\texttt{matrix/matrix4.cc}]{../ex13/matrix/matrix4.cc}
\lstinputlisting[title=\texttt{matrix/operatorassign1.cc}]{../ex13/matrix/operatorassign1.cc}
\lstinputlisting[title=\texttt{matrix/operatorassign2.cc}]{../ex13/matrix/operatorassign2.cc}
\lstinputlisting[title=\texttt{matrix/swap.cc}]{../ex13/matrix/swap.cc}
\lstinputlisting[title=\texttt{matrix/tr.cc}]{../ex13/matrix/tr.cc}
\lstinputlisting[title=\texttt{matrix/swap.cc}]{../ex13/matrix/swap.cc}
\lstinputlisting[title=\texttt{matrix/transpose.cc}]{../ex13/matrix/transpose.cc}
\clearpage
\section*{Exercise 14}
\desc{}


\clearpage
\section*{Exercise 15}
\desc{}

\clearpage
\section*{Exercise 16}
\desc{}


\clearpage
\section*{Exercise 17}
\desc{}


\clearpage
\section*{Exercise 18}
\desc{}


\clearpage
\section*{Exercise 19}
\desc{}


\clearpage
\end{document}
